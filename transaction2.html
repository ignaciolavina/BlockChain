<!DOCTYPE html>
<html lang="en">
<head>
  <title>Transactions Page</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</head>
<body>

  <div class="jumbotron text-center">
    <h1>Transactions page</h1>
    <p>Create new transactions for the BlockChain net</p> 
  </div>


  <!--  <form action="/my-handling-form-page" method="post"> -->


    <!-- form user info -->
    <div class="card card-outline-secondary">
      <h3 class="mb-0">Transaction Information</h3>
      <br><br>
      <div class="card-block">
        <form class="form" role="form" autocomplete="off">

          <div class="container">
            <div class="row">
              <div class="col-sm-6">
                <h3>Seller Info</h3>
                <p>Please, complete all the information of the seller for the transaction</p>
                <div class="form-group row">
                  <label class="col-lg-3 col-form-label form-control-label">Name</label>
                  <div class="col-lg-9">
                    <input id="seller_name" class="form-control" type="text" value="">
                  </div>
                </div>
              </div>
              <div class="col-sm-6">
                <h3>Buyer Info</h3>
                <p>Please, complete all the information of the buyer for the transaction</p>
                <div class="form-group row">
                  <label class="col-lg-3 col-form-label form-control-label">Name</label>
                  <div class="col-lg-9">
                    <input  id="buyer_name" class="form-control" type="text" value="">
                  </div>
                </div>
              </div>

            </div>
          </div>



          <div class="container">

            <h3>Ohter information</h3>
            <p>Fill all the information below</p>

            <div class="form-group row">
              <label class="col-lg-3 col-form-label form-control-label">Amount ($)</label>
              <div class="col-lg-9">
                <input  id="Amount" class="form-control" type="value" value="">
              </div>
            </div>
            <div class="form-group row">
              <label class="col-lg-3 col-form-label form-control-label">Notes</label>
              <div class="col-lg-9">
                <input id="Notes" class="form-control" type="text" value="Notes">
              </div>
            </div>


            <div class="form-group row">
              <label class="col-lg-3 col-form-label form-control-label"></label>
              <div class="col-lg-9">
                <input type="reset" class="btn btn-secondary" value="Cancel">
                <input type="button" class="btn btn-primary" value="Create Transaction" onclick="myFunction()">
              </div>
            </div>
          </form> <br>
        </div>
      </div>
      <!-- /form user info -->
    </div>

    <label class="col-lg-3 col-form-label form-control-label">Generate some random transacrions to test</label>
    <button onclick="generateTransaction()">Generate</button>

    <table id="table" class="table">
      <thead class="thead-dark">
        <tr>
          <th scope="col">Transacrion</th>
          <th scope="col">Seller name</th>
          <th scope="col">Buyer name</th>
          <th scope="col">Amount</th>
          <th scope="col">Notes</th>
        </tr>
      </thead>
    </table>




    <script type="text/javascript">

      var transaction_counter = 1;

      function myFunction(){
        var transact2 = [transaction_counter, document.getElementById("seller_name").value, document.getElementById("buyer_name").value,
                        document.getElementById("Amount").value, document.getElementById("Notes").value];

        table = document.getElementById("table");
        table.insertRow(table.length);
        var newRow = table.insertRow(table.length);

        for (var j=0; j < 5; j++){
          var cell = newRow.insertCell(j);
          cell.innerHTML = transact2[j];
        }
        transaction_counter++;
      }


      function randomName(list) {
        var i = Math.floor(Math.random() * list.length);
        return list[i];
      }

      function randomNumber(){
        var k = Math.floor(Math.random() * 500) + 1  
        return k;
      }

      function generateTransaction(){

        var names_list = ["Mike Wasouski", "Sully", "Uco", "Kai", "Freddy Krueger", "JackSparrow", "Dolores fuertes", "Lola Mento", "Ana Tomía", "Armando Guerra", "Igor Dito", "Aitor Menta", "Elena nito", "Penélope luda"];

        var seller_name = randomName(names_list);
        var buyer_name = randomName(names_list);
        var random_nubmer = randomNumber();

        table = document.getElementById("table");
        table.insertRow(table.length);
        var newRow = table.insertRow(table.length);

        var transact2 = [transaction_counter, seller_name, buyer_name, random_nubmer, "no notes on this transaction" ];

        for (var j=0; j < 5; j++){
          var cell = newRow.insertCell(j);
          cell.innerHTML = transact2[j];
        }
        transaction_counter++;
      }

    
    //Generamos algunas transactiones random por defecto
    var numnber_of_initial_transactions = 4;
    for (var i = 0; i < numnber_of_initial_transactions; i++){
      generateTransaction()
    }

  </script>


</body>
<footer>
  

    <div class="container">
      <div class="row">
        <div class="col-sm-8">
          <h3>Security info</h3>
          <p>After confirm, all the transactions will be part of the blocChain net, and there are NOT any possibility of future changes.</p>
          <p>Make transactions responsibly</p>
        </div>

      </div>
      </div>
  
</footer>
</html>
